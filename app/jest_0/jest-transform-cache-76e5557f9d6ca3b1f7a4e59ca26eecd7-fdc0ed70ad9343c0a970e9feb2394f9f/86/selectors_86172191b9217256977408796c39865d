1392920d4e53b9868fede369805ec301
'use strict';Object.defineProperty(exports, "__esModule", { value: true });exports.pathnameChangedSelector = exports.launchIdSelector = exports.createQueryParametersSelector = exports.pagePropertiesSelector = exports.pageSelector = exports.logItemIdSelector = exports.testItemIdsArraySelector = exports.testItemIdsSelector = exports.filterIdSelector = exports.suiteIdSelector = exports.projectIdSelector = exports.activeDashboardIdSelector = exports.payloadSelector = undefined;var _defineProperty2 = require('babel-runtime/helpers/defineProperty');var _defineProperty3 = _interopRequireDefault(_defineProperty2);var _extends3 = require('babel-runtime/helpers/extends');var _extends4 = _interopRequireDefault(_extends3);var _keys = require('babel-runtime/core-js/object/keys');var _keys2 = _interopRequireDefault(_keys);var _reselect = require('reselect');
var _routingUtils = require('common/utils/routingUtils');
var _pagination = require('controllers/pagination');
var _sorting = require('controllers/sorting');
var _constants = require('./constants');function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

var payloadSelector = exports.payloadSelector = function payloadSelector(state) {return state.location.payload;};

var activeDashboardIdSelector = exports.activeDashboardIdSelector = function activeDashboardIdSelector(state) {return payloadSelector(state).dashboardId;};
var projectIdSelector = exports.projectIdSelector = function projectIdSelector(state) {return payloadSelector(state).projectId;};
var suiteIdSelector = exports.suiteIdSelector = function suiteIdSelector(state) {return payloadSelector(state).suiteId;};
var filterIdSelector = exports.filterIdSelector = function filterIdSelector(state) {return payloadSelector(state).filterId;};
var testItemIdsSelector = exports.testItemIdsSelector = function testItemIdsSelector(state) {return (
    payloadSelector(state).testItemIds && String(payloadSelector(state).testItemIds));};
var testItemIdsArraySelector = exports.testItemIdsArraySelector = (0, _reselect.createSelector)(
testItemIdsSelector,
function (itemIdsString) {return itemIdsString && itemIdsString.split('/') || [];});

var logItemIdSelector = exports.logItemIdSelector = (0, _reselect.createSelector)(
testItemIdsArraySelector,
function (itemIdsArray) {return itemIdsArray.length && itemIdsArray[itemIdsArray.length - 1] || '';});


var pageSelector = exports.pageSelector = function pageSelector(state) {return _constants.pageNames[state.location.type] || _constants.NO_PAGE;};

var pagePropertiesSelector = exports.pagePropertiesSelector = function pagePropertiesSelector(_ref, namespace) {var query = _ref.location.query;var mapping = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;
  if (!query) {
    return {};
  }

  var extractedQuery = namespace ? (0, _routingUtils.extractNamespacedQuery)(query, namespace) : query;

  if (!mapping) {
    return extractedQuery;
  }

  var result = {};
  (0, _keys2.default)(mapping).forEach(function (key) {
    if (Object.prototype.hasOwnProperty.call(extractedQuery, key)) {
      var propertyName = mapping[key];
      result[propertyName] = extractedQuery[key];
    }
  });
  return result;
};

var createQueryParametersSelector = exports.createQueryParametersSelector = function createQueryParametersSelector(_ref2) {var
  staticNamespace = _ref2.namespace,
  defaultPagination = _ref2.defaultPagination,
  defaultSorting = _ref2.defaultSorting;return (
    function (state, namespace) {
      var query = pagePropertiesSelector(state, staticNamespace || namespace);
      return (0, _extends4.default)({},
      defaultPagination || _pagination.DEFAULT_PAGINATION, (0, _defineProperty3.default)({},
      _sorting.SORTING_KEY, defaultSorting || ''),
      query);

    });};

var launchIdSelector = exports.launchIdSelector = function launchIdSelector(state) {
  var testItemIds = testItemIdsArraySelector(state);
  return testItemIds && testItemIds[0];
};

var pathnameChangedSelector = exports.pathnameChangedSelector = function pathnameChangedSelector(state) {
  var pathName = state.location.pathname;
  var prevPathName = state.location.prev.pathname;
  return pathName !== prevPathName;
};;var _temp = function () {if (typeof __REACT_HOT_LOADER__ === 'undefined') {return;}__REACT_HOT_LOADER__.register(payloadSelector, 'payloadSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(activeDashboardIdSelector, 'activeDashboardIdSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(projectIdSelector, 'projectIdSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(suiteIdSelector, 'suiteIdSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(filterIdSelector, 'filterIdSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(testItemIdsSelector, 'testItemIdsSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(testItemIdsArraySelector, 'testItemIdsArraySelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(logItemIdSelector, 'logItemIdSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(pageSelector, 'pageSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(pagePropertiesSelector, 'pagePropertiesSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(createQueryParametersSelector, 'createQueryParametersSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(launchIdSelector, 'launchIdSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');__REACT_HOT_LOADER__.register(pathnameChangedSelector, 'pathnameChangedSelector', '/volumeC/workspace/service-ui - RELEASE/src/github.com/reportportal/service-ui/app/src/controllers/pages/selectors.js');}();;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbGVjdG9ycy5qcyJdLCJuYW1lcyI6WyJwYXlsb2FkU2VsZWN0b3IiLCJzdGF0ZSIsImxvY2F0aW9uIiwicGF5bG9hZCIsImFjdGl2ZURhc2hib2FyZElkU2VsZWN0b3IiLCJkYXNoYm9hcmRJZCIsInByb2plY3RJZFNlbGVjdG9yIiwicHJvamVjdElkIiwic3VpdGVJZFNlbGVjdG9yIiwic3VpdGVJZCIsImZpbHRlcklkU2VsZWN0b3IiLCJmaWx0ZXJJZCIsInRlc3RJdGVtSWRzU2VsZWN0b3IiLCJ0ZXN0SXRlbUlkcyIsIlN0cmluZyIsInRlc3RJdGVtSWRzQXJyYXlTZWxlY3RvciIsIml0ZW1JZHNTdHJpbmciLCJzcGxpdCIsImxvZ0l0ZW1JZFNlbGVjdG9yIiwiaXRlbUlkc0FycmF5IiwibGVuZ3RoIiwicGFnZVNlbGVjdG9yIiwicGFnZU5hbWVzIiwidHlwZSIsIk5PX1BBR0UiLCJwYWdlUHJvcGVydGllc1NlbGVjdG9yIiwibmFtZXNwYWNlIiwicXVlcnkiLCJtYXBwaW5nIiwidW5kZWZpbmVkIiwiZXh0cmFjdGVkUXVlcnkiLCJyZXN1bHQiLCJmb3JFYWNoIiwia2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicHJvcGVydHlOYW1lIiwiY3JlYXRlUXVlcnlQYXJhbWV0ZXJzU2VsZWN0b3IiLCJzdGF0aWNOYW1lc3BhY2UiLCJkZWZhdWx0UGFnaW5hdGlvbiIsImRlZmF1bHRTb3J0aW5nIiwiREVGQVVMVF9QQUdJTkFUSU9OIiwiU09SVElOR19LRVkiLCJsYXVuY2hJZFNlbGVjdG9yIiwicGF0aG5hbWVDaGFuZ2VkU2VsZWN0b3IiLCJwYXRoTmFtZSIsInBhdGhuYW1lIiwicHJldlBhdGhOYW1lIiwicHJldiJdLCJtYXBwaW5ncyI6Im96QkFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDOztBQUVPLElBQU1BLDRDQUFrQixTQUFsQkEsZUFBa0IsQ0FBQ0MsS0FBRCxVQUFXQSxNQUFNQyxRQUFOLENBQWVD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dEI7QUFDRCxDQUhNOztBQUtBLElBQU1pQyw0REFBMEIsU0FBMUJBLHVCQUEwQixDQUFDN0MsS0FBRCxFQUFXO0FBQ2hELE1BQU04QyxXQUFXOUMsTUFBTUMsUUFBTixDQUFlOEMsUUFBaEM7QUFDQSxNQUFNQyxlQUFlaEQsTUFBTUMsUUFBTixDQUFlZ0QsSUFBZixDQUFvQkYsUUFBekM7QUFDQSxTQUFPRCxhQUFhRSxZQUFwQjtBQUNELENBSk0sQyxrSEExRE1qRCxlLDRLQUVBSSx5QixzTEFDQUUsaUIsOEtBQ0FFLGUsNEtBQ0FFLGdCLDZLQUNBRSxtQixnTEFFQUcsd0IscUxBSUFHLGlCLDhLQUtBRyxZLHlLQUVBSSxzQixtTEFxQkFjLDZCLDBMQWFBTSxnQiw2S0FLQUMsdUIiLCJmaWxlIjoic2VsZWN0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5pbXBvcnQgeyBleHRyYWN0TmFtZXNwYWNlZFF1ZXJ5IH0gZnJvbSAnY29tbW9uL3V0aWxzL3JvdXRpbmdVdGlscyc7XG5pbXBvcnQgeyBERUZBVUxUX1BBR0lOQVRJT04gfSBmcm9tICdjb250cm9sbGVycy9wYWdpbmF0aW9uJztcbmltcG9ydCB7IFNPUlRJTkdfS0VZIH0gZnJvbSAnY29udHJvbGxlcnMvc29ydGluZyc7XG5pbXBvcnQgeyBwYWdlTmFtZXMsIE5PX1BBR0UgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBwYXlsb2FkU2VsZWN0b3IgPSAoc3RhdGUpID0+IHN0YXRlLmxvY2F0aW9uLnBheWxvYWQ7XG5cbmV4cG9ydCBjb25zdCBhY3RpdmVEYXNoYm9hcmRJZFNlbGVjdG9yID0gKHN0YXRlKSA9PiBwYXlsb2FkU2VsZWN0b3Ioc3RhdGUpLmRhc2hib2FyZElkO1xuZXhwb3J0IGNvbnN0IHByb2plY3RJZFNlbGVjdG9yID0gKHN0YXRlKSA9PiBwYXlsb2FkU2VsZWN0b3Ioc3RhdGUpLnByb2plY3RJZDtcbmV4cG9ydCBjb25zdCBzdWl0ZUlkU2VsZWN0b3IgPSAoc3RhdGUpID0+IHBheWxvYWRTZWxlY3RvcihzdGF0ZSkuc3VpdGVJZDtcbmV4cG9ydCBjb25zdCBmaWx0ZXJJZFNlbGVjdG9yID0gKHN0YXRlKSA9PiBwYXlsb2FkU2VsZWN0b3Ioc3RhdGUpLmZpbHRlcklkO1xuZXhwb3J0IGNvbnN0IHRlc3RJdGVtSWRzU2VsZWN0b3IgPSAoc3RhdGUpID0+XG4gIHBheWxvYWRTZWxlY3RvcihzdGF0ZSkudGVzdEl0ZW1JZHMgJiYgU3RyaW5nKHBheWxvYWRTZWxlY3RvcihzdGF0ZSkudGVzdEl0ZW1JZHMpO1xuZXhwb3J0IGNvbnN0IHRlc3RJdGVtSWRzQXJyYXlTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yKFxuICB0ZXN0SXRlbUlkc1NlbGVjdG9yLFxuICAoaXRlbUlkc1N0cmluZykgPT4gKGl0ZW1JZHNTdHJpbmcgJiYgaXRlbUlkc1N0cmluZy5zcGxpdCgnLycpKSB8fCBbXSxcbik7XG5leHBvcnQgY29uc3QgbG9nSXRlbUlkU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvcihcbiAgdGVzdEl0ZW1JZHNBcnJheVNlbGVjdG9yLFxuICAoaXRlbUlkc0FycmF5KSA9PiAoaXRlbUlkc0FycmF5Lmxlbmd0aCAmJiBpdGVtSWRzQXJyYXlbaXRlbUlkc0FycmF5Lmxlbmd0aCAtIDFdKSB8fCAnJyxcbik7XG5cbmV4cG9ydCBjb25zdCBwYWdlU2VsZWN0b3IgPSAoc3RhdGUpID0+IHBhZ2VOYW1lc1tzdGF0ZS5sb2NhdGlvbi50eXBlXSB8fCBOT19QQUdFO1xuXG5leHBvcnQgY29uc3QgcGFnZVByb3BlcnRpZXNTZWxlY3RvciA9ICh7IGxvY2F0aW9uOiB7IHF1ZXJ5IH0gfSwgbmFtZXNwYWNlLCBtYXBwaW5nID0gdW5kZWZpbmVkKSA9PiB7XG4gIGlmICghcXVlcnkpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBjb25zdCBleHRyYWN0ZWRRdWVyeSA9IG5hbWVzcGFjZSA/IGV4dHJhY3ROYW1lc3BhY2VkUXVlcnkocXVlcnksIG5hbWVzcGFjZSkgOiBxdWVyeTtcblxuICBpZiAoIW1hcHBpbmcpIHtcbiAgICByZXR1cm4gZXh0cmFjdGVkUXVlcnk7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgT2JqZWN0LmtleXMobWFwcGluZykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHRyYWN0ZWRRdWVyeSwga2V5KSkge1xuICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gbWFwcGluZ1trZXldO1xuICAgICAgcmVzdWx0W3Byb3BlcnR5TmFtZV0gPSBleHRyYWN0ZWRRdWVyeVtrZXldO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUXVlcnlQYXJhbWV0ZXJzU2VsZWN0b3IgPSAoe1xuICBuYW1lc3BhY2U6IHN0YXRpY05hbWVzcGFjZSxcbiAgZGVmYXVsdFBhZ2luYXRpb24sXG4gIGRlZmF1bHRTb3J0aW5nLFxufSkgPT4gKHN0YXRlLCBuYW1lc3BhY2UpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBwYWdlUHJvcGVydGllc1NlbGVjdG9yKHN0YXRlLCBzdGF0aWNOYW1lc3BhY2UgfHwgbmFtZXNwYWNlKTtcbiAgcmV0dXJuIHtcbiAgICAuLi4oZGVmYXVsdFBhZ2luYXRpb24gfHwgREVGQVVMVF9QQUdJTkFUSU9OKSxcbiAgICBbU09SVElOR19LRVldOiBkZWZhdWx0U29ydGluZyB8fCAnJyxcbiAgICAuLi5xdWVyeSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBsYXVuY2hJZFNlbGVjdG9yID0gKHN0YXRlKSA9PiB7XG4gIGNvbnN0IHRlc3RJdGVtSWRzID0gdGVzdEl0ZW1JZHNBcnJheVNlbGVjdG9yKHN0YXRlKTtcbiAgcmV0dXJuIHRlc3RJdGVtSWRzICYmIHRlc3RJdGVtSWRzWzBdO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhdGhuYW1lQ2hhbmdlZFNlbGVjdG9yID0gKHN0YXRlKSA9PiB7XG4gIGNvbnN0IHBhdGhOYW1lID0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWU7XG4gIGNvbnN0IHByZXZQYXRoTmFtZSA9IHN0YXRlLmxvY2F0aW9uLnByZXYucGF0aG5hbWU7XG4gIHJldHVybiBwYXRoTmFtZSAhPT0gcHJldlBhdGhOYW1lO1xufTtcbiJdfQ==